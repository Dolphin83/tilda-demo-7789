Задача 3: фронт
Вы работаете в компании, присутствующей в нескольких городах РФ. На сайте компании есть страница с контактной информацией.
Маркетолог поставил задачу и уехал, к его приезду задача должна быть реализована.
На страницу контактов заходят люди из разных городов, нужно чтобы они видели телефон из своего города.
По умолчанию, в HTML-страницы прописан телефон 8-800-DIGITS. Телефон размещен в верху и внизу страницы.
Вот и все что рассказал маркетолог прежде чем уехать.


Суть решения задачи сводится к определению местоположения пользователя и нахождению релевантного значения номера телефона с последующей его заменой на странице контактов.

Решение для сайта, который использует SSR
Шаг 1. Пользователь переходит на страницу контактов сайта
Шаг 2. Запрос приходит в бекенд сайта
Шаг 3. Выполняется проверка на наличие куки с уже определенным номером телефона

Если кука установлена:
Шаг 4. Извлекаем информацию из куки (это может быть любой набор данных, который позволяет однозначно определить номер телефона, либо сам номер телефона)
Шаг 4.1 (опциональный) Определяем номер телефона по информации из куки.
Шаг 5. Передаем информацию о номере телефона в сервис (контроллер), который формирует ответ для пользователя.
Шаг 6. Пользователь видит страницу контактов с релевантным номером телефона.

Если кука не установлена
Шаг 4. По параметрам запроса (например IP адрес пользователя) либо иным способом определяем соответствующий номер телефона.
Шаг 5. Передаем информацию о номере телефона в сервис (контроллер), который формирует ответ для пользователя.    
Шаг 6. Устанавливаем куку с информацией о номере телефона: срок жизни куки выбирается исходя из параметров задачи, кука устанавливается для кэширования результатов определения номера телефона.
Шаг 7. Пользователь видит страницу контактов с релевантным номером телефона.

При последующих заходах на сайт информация о номере телефона будет передаваться в запросе к бекенду сайта и не потребует отдельного определения.
